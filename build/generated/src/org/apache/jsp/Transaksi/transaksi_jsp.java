package org.apache.jsp.Transaksi;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import Model.Mobil;
import Controller.Kontrol_Mobil;
import java.util.ArrayList;
import Model.Customer;
import Controller.Kontrol_Customer;

public final class transaksi_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE HTML>\n");
      out.write("<html>\n");
      out.write("    <head>\n");
      out.write("        <title>4 Sekawan Car Rental</title>\n");
      out.write("        <link rel=\"icon\" href=\"Pictures/apps.png\" type=\"image/x-icon\">\n");
      out.write("        <meta charset=\"utf-8\">\n");
      out.write("        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n");
      out.write("        <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">\n");
      out.write("        <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script>\n");
      out.write("        <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.11.3.min.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"jquery.downCount.js\"></script>\n");
      out.write("        <style>\n");
      out.write("            body{\n");
      out.write("                text-align: center;\n");
      out.write("            }\n");
      out.write("            .navbar {\n");
      out.write("                min-height:110px !important;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            .navbar-nav > li {\n");
      out.write("                padding-top:40px !important; \n");
      out.write("                padding-bottom:30px !important;\n");
      out.write("                padding-right: 50px !important;\n");
      out.write("                font-size: 18px !important;\n");
      out.write("            }\n");
      out.write("            .countdown {\n");
      out.write("                padding-left: 0;\n");
      out.write("                list-style: none;\n");
      out.write("                display: block;\n");
      out.write("                text-align: center;\n");
      out.write("                background-color: #0060e9;\n");
      out.write("                color: white;\n");
      out.write("            }\n");
      out.write("            .countdown li {\n");
      out.write("                display: inline-block;\n");
      out.write("            }\n");
      out.write("            .countdown li span {\n");
      out.write("                font-size: 70px;\n");
      out.write("                font-weight: 300;\n");
      out.write("                line-height: 80px;\n");
      out.write("            }\n");
      out.write("            .countdown li.seperator {\n");
      out.write("                font-size: 70px;\n");
      out.write("                line-height: 70px;\n");
      out.write("                vertical-align: top;\n");
      out.write("            }\n");
      out.write("            .countdown li p {\n");
      out.write("                color: #a7abb1;\n");
      out.write("                font-size: 14px;\n");
      out.write("            }\n");
      out.write("        </style>\n");
      out.write("    </head>\n");
      out.write("    <body>\n");
      out.write("        <header>    \n");
      out.write("            <nav class=\"navbar navbar-default\">\n");
      out.write("                <div class=\"container-fluid\">\n");
      out.write("                    <div class=\"navbar-header\">\n");
      out.write("                        <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\n");
      out.write("                            <span class=\"sr-only\">Toggle navigation</span>\n");
      out.write("                            <span class=\"icon-bar\"></span>\n");
      out.write("                            <span class=\"icon-bar\"></span>\n");
      out.write("                            <span class=\"icon-bar\"></span>\n");
      out.write("                        </button>\n");
      out.write("                        <a class=\"navbar-brand\" href=\"#myPage\">\n");
      out.write("                            <img src=\"../images/Logo.png\" width=\"250\" height=\"80\" alt=\"logo\" style=\"position: absolute\">\n");
      out.write("                        </a>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"collapse navbar-collapse\" id=\"myNavbar\">\n");
      out.write("                        <ul class=\"nav navbar-nav navbar-right\">\n");
      out.write("                            <li style=\"color: #999999\">1. Isi Data</li>\n");
      out.write("                            <li style=\"color: #999999\">2. Review</li>\n");
      out.write("                            <li style=\"color: #0073a4\">3. Pembayaran</li>\n");
      out.write("                            <li style=\"color: #999999\">4. E-ticket Terbit</li>\n");
      out.write("                        </ul>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </nav>\n");
      out.write("        </header>\n");
      out.write("\n");
      out.write("        ");

            String id = (String) session.getAttribute("transaksi");
            String customer = (String) session.getAttribute("idCust");
            String mobil = (String) session.getAttribute("mobil");
            String supir = (String) session.getAttribute("supir");
            String tglpinjam = (String) session.getAttribute("tglPinjam");
            String tglkembali = (String) session.getAttribute("tglKembali");
            String jampinjam = (String) session.getAttribute("jamPinjam");
            String jamkembali = (String) session.getAttribute("jamKembali");
            String menitpinjam = (String) session.getAttribute("menitPinjam");
            String menitkembali = (String) session.getAttribute("menitKembali");

            Kontrol_Customer kc = new Kontrol_Customer();
            kc.getByIdCustomer(customer);
            ArrayList<Customer> custList = kc.getByIdCustomer(customer);
            String namaCust = null;
            String alamatCust = null;
            String emailCust = null;
            String notelpCust = null;

            for (int i = 0; i < custList.size(); i++) {
                namaCust = custList.get(i).getNama();
                emailCust = custList.get(i).getEmail();
                alamatCust = custList.get(i).getAlamat();
                notelpCust = custList.get(i).getNoTelp();
            }

            Kontrol_Mobil m = new Kontrol_Mobil();
            m.getByIdMobil(mobil);
            ArrayList<Mobil> mobilList = m.getByIdMobil(mobil);
            String namaMobil = null;
            String gambarMobil = null;

            for (int i = 0; i < mobilList.size(); i++) {
                namaMobil = mobilList.get(i).getNamaKendaraan();
                gambarMobil = mobilList.get(i).getGambar();
            }
        
      out.write("\n");
      out.write("\n");
      out.write("        <!--<form action=\"../TransaksiServlet\" method=\"post\">-->\n");
      out.write("            <div class=\"container well\" style=\"background-color: #0060e9;color: white;\">\n");
      out.write("                <h1>Pembayaran</h1>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"container\" id=\"batasWaktu\">\n");
      out.write("                <div class=\"container\">\n");
      out.write("                    <div class=\"row\">\n");
      out.write("                        <p style=\"text-align: center;\">Sisa waktu pembayaran Anda adalah</p>                        \n");
      out.write("                    </div> \n");
      out.write("                    <div class=\"row\"><div class=\"col-lg-4\"></div>\n");
      out.write("                        <div class=\"col-lg-4\">\n");
      out.write("                            <ul class=\"countdown\">\n");
      out.write("                                <li> <span class=\"hours\" id=\"hours\"></span>\n");
      out.write("                                    <p class=\"hours_ref\">hours</p>\n");
      out.write("                                </li>\n");
      out.write("                                <li class=\"seperator\">:</li>\n");
      out.write("                                <li> <span class=\"minutes\" id=\"minutes\"></span>\n");
      out.write("                                    <p class=\"minutes_ref\">minutes</p>\n");
      out.write("                                </li>\n");
      out.write("                                <li class=\"seperator\">:</li>\n");
      out.write("                                <li> <span class=\"seconds\" id=\"seconds\"></span>\n");
      out.write("                                    <p class=\"seconds_ref\">seconds</p>\n");
      out.write("                                </li>\n");
      out.write("                            </ul>                            \n");
      out.write("                        </div><div class=\"col-lg-4\"></div>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"row\">\n");
      out.write("                        <p id=\"batas\"></p>                       \n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"row\" style=\"text-align: left;\">\n");
      out.write("                        <div class=\"col-lg-8\">\n");
      out.write("                            <div class=\"well\">\n");
      out.write("                                <h4 style=\"color: #0060e9\">Informasi Penting</h4><br/>\n");
      out.write("                                <ul>\n");
      out.write("                                    <li>\n");
      out.write("                                        Transaksi akan dibatalkan (berakhir) jika anda tidak melakukan pembayaran pada periode waktu yang telah ditentukan\n");
      out.write("                                    </li>\n");
      out.write("                                    <li>\n");
      out.write("                                        Pembayaran akan dianggap sah bila telah meng-upload bukti pembayaran\n");
      out.write("                                    </li>\n");
      out.write("                                    <li>\n");
      out.write("                                        E-Tiket atau Voucher akan dikirimkan melalui email setelah pembayaran selesai dilakukan\n");
      out.write("                                    </li>\n");
      out.write("                                </ul>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                            <div class=\"well\">\n");
      out.write("                                <h4 style=\"color: #0060e9\">Mohon Transfer ke:</h4><br/>\n");
      out.write("                                <div class=\"well\">                                    \n");
      out.write("                                    <div class=\"row\">\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span>BCA</span>\n");
      out.write("                                        </div>\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span class=\"pull-right\"><img src=\"../Bahan/Gambar/Bank_Central_Asia.png\" width=\"105\" height=\"30\"></span>\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"row\">\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span class=\"pull-right\">Nomor Rekening:</span>\n");
      out.write("                                        </div>\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            009-713-2848\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"row\">\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span class=\"pull-right\">Nama Penerima:</span>\n");
      out.write("                                        </div>\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            4 Sekawan Car Rental\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"row\">\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span class=\"pull-right\">Jumlah Transfer:</span>\n");
      out.write("                                        </div>\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            Rp. 250.000,-\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                                <h2 style=\"text-align: center\">Atau</h2>\n");
      out.write("                                <div class=\"well\">\n");
      out.write("                                    <div class=\"row\">\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span>Mandiri</span>\n");
      out.write("                                        </div>\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span class=\"pull-right\"><img src=\"../Bahan/Gambar/Bank_Mandiri_logo.svg.png\" width=\"100\" height=\"30\"></span>\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"row\">\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span class=\"pull-right\">Nomor Rekening:</span>\n");
      out.write("                                        </div>\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            135-001-411-0595\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"row\">\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span class=\"pull-right\">Nama Penerima:</span>\n");
      out.write("                                        </div>\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            4 Sekawan Car Rental\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"row\">\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            <span class=\"pull-right\">Jumlah Transfer:</span>\n");
      out.write("                                        </div>\n");
      out.write("                                        <div class=\"form-group col-xs-6\">\n");
      out.write("                                            Rp. 250.000,-\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                            <div class=\"well\">\n");
      out.write("                                <h4 style=\"color: #0060e9\">Anda sudah membayar?</h4><br/>  \n");
      out.write("                                <div class=\"form-group form-inline\">\n");
      out.write("                                    <label for=\"exampleInputFile\">Upload bukti pembayaran</label>\n");
      out.write("                                    <input type=\"file\" class=\"form-control-file\" id=\"exampleInputFile\" aria-describedby=\"fileHelp\" name=\"buktiPembayaran\" value=\"\">\n");
      out.write("                                </div>\n");
      out.write("                                <div style=\"padding-top: 30px; padding-right: 30px\">\n");
      out.write("                                    <button type=\"input\" class=\"btn btn-warning btn-block\" name=\"pesanMobil\" value=\"");
      out.print(id);
      out.write("\" data-target=\"#exampleModal\">UPLOAD BUKTI PEMBAYARAN</button>  \n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("\n");
      out.write("                        <div class=\"col-lg-4 well\">\n");
      out.write("                            <div class=\"well\">\n");
      out.write("                                <div class=\"row\" style=\"padding-left: 20px\">\n");
      out.write("                                    <h4><b>ID Persewaan</b></h4>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"row\" style=\"padding-left: 40px\">\n");
      out.write("                                    <h4>");
      out.print(id);
      out.write("</h4>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"well\">\n");
      out.write("                                <div class=\"row\">\n");
      out.write("                                    <div class=\"col-xs-6\"><span class=\"pull-right\">\n");
      out.write("                                            <img src=\"../Bahan/Mobil/");
      out.print(gambarMobil);
      out.write("\" width=\"80\" height=\"50\"></span>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"col-xs-6\">\n");
      out.write("                                        <p style=\"padding-top: 18px\"><b>");
      out.print(namaMobil);
      out.write("</b></p>\n");
      out.write("                                    </div>\n");
      out.write("                                </div><br>\n");
      out.write("                                <div class=\"row\">\n");
      out.write("                                    <div class=\"form-group col-xs-6\" style=\"text-align: center;\">\n");
      out.write("                                        <label for=\"jamPinjam\">Tanggal pinjam</label>\n");
      out.write("                                        <p id=\"jamPinjam\">");
      out.print(tglpinjam);
      out.write("</p>\n");
      out.write("                                        <p id=\"jamPinjam\">");
      out.print(jampinjam);
      out.write(':');
      out.print(menitpinjam);
      out.write("</p>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"form-group col-xs-6\" style=\"text-align: center;\">\n");
      out.write("                                        <label for=\"jamPinjam\">Tanggal kembali</label>\n");
      out.write("                                        <p id=\"jamPinjam\">");
      out.print(tglkembali);
      out.write("</p>\n");
      out.write("                                        <p id=\"jamPinjam\">");
      out.print(jamkembali);
      out.write(':');
      out.print(menitkembali);
      out.write("</p>\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"well\">\n");
      out.write("                                <div class=\"row\" style=\"padding-left: 20px\">\n");
      out.write("                                    <h4><b>Nama Peminjam</b></h4>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"row\" style=\"padding-left: 40px\">\n");
      out.write("                                    <h4>");
      out.print(namaCust);
      out.write("</h4>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                    <!-- Modal -->\n");
      out.write("                    <div class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n");
      out.write("                        <div class=\"modal-dialog\" role=\"document\">\n");
      out.write("                            <div class=\"modal-content\">\n");
      out.write("                                <div class=\"modal-header\" style=\"background: #1E88E5 \">\n");
      out.write("                                    <button type=\"button\" name=\"bayar\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" style=\"color: #ffffff\">\n");
      out.write("                                        <span aria-hidden=\"true\">&times;</span>\n");
      out.write("                                    </button>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"modal-body\">\n");
      out.write("                                    <p style=\"font-family: sans-serif;\">\n");
      out.write("                                        Pemesanan Mobil anda telah berhasil, Mohon menunggu konfirmasi dari Staff...</p>\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"modal-footer\">\n");
      out.write("                                    <button type=\"submit\" name=\"bayar\" class=\"btn btn-primary\" data-dismiss=\"modal\">\n");
      out.write("                                        <a href=\"../jsp/index.jsp\" style=\"text-decoration: none; color: white;\">Ok</a>\n");
      out.write("                                    </button>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                    <script>\n");
      out.write("                        $(document).ready(function () {\n");
      out.write("                            $(\"#myBtn\").click(function () {\n");
      out.write("                                $(\"#myModal\").modal();\n");
      out.write("                            });\n");
      out.write("                        });\n");
      out.write("                    </script>            \n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        <!--</form>-->\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("        <script class=\"source\" type=\"text/javascript\">\n");
      out.write("            $('.countdown').downCount({\n");
      out.write("        <a href=\"https://www.jqueryscript.net/time-clock/\">date</a>: '09/09/2014 12:00:00',\n");
      out.write("                        offset: +10\n");
      out.write("            }, function () {\n");
      out.write("                alert('WOOT WOOT, done!');\n");
      out.write("            });\n");
      out.write("        </script>\n");
      out.write("\n");
      out.write("        <script>\n");
      out.write("            // Set the date we're counting down to\n");
      out.write("            var today = new Date();\n");
      out.write("            var later = new Date();\n");
      out.write("            later.setSeconds(today.getSeconds() + 2 * 3600);\n");
      out.write("\n");
      out.write("            // Update the count down every 1 second\n");
      out.write("            var x = setInterval(function () {\n");
      out.write("\n");
      out.write("                // Get todays date and time\n");
      out.write("                var now = new Date().getTime();\n");
      out.write("\n");
      out.write("                // Find the distance between now an the count down date\n");
      out.write("                var distance = later - now;\n");
      out.write("\n");
      out.write("                // Time calculations for days, hours, minutes and seconds\n");
      out.write("                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n");
      out.write("                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n");
      out.write("                var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n");
      out.write("\n");
      out.write("                // Output the result in an element with id=\"demo\"\n");
      out.write("                function addZero(i) {\n");
      out.write("                    if (i < 10) {\n");
      out.write("                        i = \"0\" + i;\n");
      out.write("                    }\n");
      out.write("                    return i;\n");
      out.write("                }\n");
      out.write("                var h = addZero(later.getHours());\n");
      out.write("                var m = addZero(later.getMinutes());\n");
      out.write("                document.getElementById(\"hours\").innerHTML = addZero(hours);\n");
      out.write("                document.getElementById(\"minutes\").innerHTML = addZero(minutes);\n");
      out.write("                document.getElementById(\"seconds\").innerHTML = addZero(seconds);\n");
      out.write("                document.getElementById(\"batas\").innerHTML = \"sampai jam \" + h + \" : \" + m;\n");
      out.write("\n");
      out.write("                // If the count down is over, write some text \n");
      out.write("                if (distance < 0) {\n");
      out.write("                    clearInterval(x);\n");
      out.write("                    document.getElementById(\"batasWaktu\").innerHTML = \"<h1>EXPIRED</h1>\";\n");
      out.write("                }\n");
      out.write("            }, 1000);\n");
      out.write("        </script>\n");
      out.write("        ");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "footer.jsp", out, false);
      out.write("\n");
      out.write("    </body>\n");
      out.write("</html>\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
